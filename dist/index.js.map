{"version":3,"file":"index.js","sources":["../src/useThisWithoutProvider/UTWP.tsx","../src/useThis/useThis.ts","../src/getThis/getThis.ts"],"sourcesContent":["import _MAINSTORE from \"../redux/store\";\r\nimport { __USETHIS_DISPATCHER } from \"../setter/utils/Dispatcher\";\r\n\r\nexport function UTWP(StateName: string, defaultValue: any) {\r\n  return __USETHIS_DISPATCHER(_MAINSTORE.dispatch, _MAINSTORE.getState())(\r\n    StateName,\r\n    defaultValue\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport ThisContext from \"../thisContext/context\";\r\nimport { UTWP } from \"../useThisWithoutProvider/UTWP\";\r\n\r\nexport function useThis(StateName: string, defaultValue?: any) {\r\n  let context;\r\n  try {\r\n    context = useContext(ThisContext) as any;\r\n  } catch (e) {\r\n    context = null;\r\n  }\r\n\r\n  if (context === null) {\r\n    return UTWP(StateName, defaultValue);\r\n  }\r\n  return context(StateName, defaultValue);\r\n}\r\n","import { StateHandler } from \"../redux/slices/StateReducer\";\r\nimport _MAINSTORE from \"../redux/store\";\r\n\r\nexport function getThis(\r\n  STATE_NAME: string,\r\n  NEW_DATA?: { data?: any; type?: \"update\" | \"upsert\"; config?: any }\r\n) {\r\n  if ((NEW_DATA?.data ?? null) === null)\r\n    return _MAINSTORE.getState().This[STATE_NAME] ?? null;\r\n\r\n  const Reducers = {\r\n    update: StateHandler.update({\r\n      data: NEW_DATA?.data ?? {},\r\n      state: STATE_NAME,\r\n    }),\r\n    upsert: StateHandler.upsert({\r\n      data: NEW_DATA?.data ?? {},\r\n      active_state: STATE_NAME,\r\n      config: NEW_DATA?.config,\r\n    }),\r\n  };\r\n\r\n  _MAINSTORE.dispatch(Reducers[NEW_DATA?.type ?? \"upsert\"]);\r\n  return _MAINSTORE.getState().This[STATE_NAME];\r\n}\r\n"],"names":["UTWP","StateName","defaultValue","__USETHIS_DISPATCHER","_MAINSTORE","useThis","context","useContext","ThisContext","getThis","STATE_NAME","NEW_DATA","Reducers","StateHandler"],"mappings":";;;AAGgB,SAAAA,EAAKC,GAAmBC,GAAmB;AACzD,SAAOC,EAAqBC,EAAW,UAAUA,EAAW,UAAU;AAAA,IACpEH;AAAA,IACAC;AAAA,EAAA;AAEJ;ACJgB,SAAAG,EAAQJ,GAAmBC,GAAoB;AACzD,MAAAI;AACA,MAAA;AACF,IAAAA,IAAUC,EAAWC,CAAW;AAAA,UACtB;AACA,IAAAF,IAAA;AAAA,EACZ;AAEA,SAAIA,MAAY,OACPN,EAAKC,GAAWC,CAAY,IAE9BI,EAAQL,GAAWC,CAAY;AACxC;ACbgB,SAAAO,EACdC,GACAC,GACA;AACK,QAAAA,KAAA,gBAAAA,EAAU,SAAQ,UAAU;AAC/B,WAAOP,EAAW,SAAW,EAAA,KAAKM,CAAU,KAAK;AAEnD,QAAME,IAAW;AAAA,IACf,QAAQC,EAAa,OAAO;AAAA,MAC1B,OAAMF,KAAA,gBAAAA,EAAU,SAAQ,CAAC;AAAA,MACzB,OAAOD;AAAA,IAAA,CACR;AAAA,IACD,QAAQG,EAAa,OAAO;AAAA,MAC1B,OAAMF,KAAA,gBAAAA,EAAU,SAAQ,CAAC;AAAA,MACzB,cAAcD;AAAA,MACd,QAAQC,KAAA,gBAAAA,EAAU;AAAA,IAAA,CACnB;AAAA,EAAA;AAGH,SAAAP,EAAW,SAASQ,GAASD,KAAA,gBAAAA,EAAU,SAAQ,QAAQ,CAAC,GACjDP,EAAW,SAAA,EAAW,KAAKM,CAAU;AAC9C;"}